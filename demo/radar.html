<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="author" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Potree Viewer</title>

	<link rel="stylesheet" type="text/css" href="../build/potree/potree.css">
	<link rel="stylesheet" type="text/css" href="../libs/jquery-ui/jquery-ui.min.css">
	<link rel="stylesheet" type="text/css" href="../libs/perfect-scrollbar/css/perfect-scrollbar.css">
	<link rel="stylesheet" type="text/css" href="../libs/openlayers3/ol.css">
	<link rel="stylesheet" type="text/css" href="../libs/spectrum/spectrum.css">
	<link rel="stylesheet" type="text/css" href="../libs/jstree/themes/mixed/style.css">
	<link rel="stylesheet" href="../common/overlay.css" type="text/css">
	<link rel="stylesheet" href="../common/calibration-panels.css" type="text/css">
	<link rel="stylesheet" href="../common/loading-bar.css" type="text/css">
  <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"> -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script src="../node_modules/flatbuffers/js/flatbuffers.js"></script>
	<!-- <script type="module" src="../readers/polyline3D.js"></script>
	<script type="module" src="../schemas/GroundTruth_generated_tmp.js"></script> -->
  <script type="module" src="radarLoader.js"></script>
  <script type="module" src="rtkLoader.js"></script>
  <script type="module" src="rtkLoaderFlatbuffer.js"></script>
  <script type="module" src="laneLoader.js"></script>
  <script type="module" src="trackLoader.js"></script>
  <script type="module" src="gapsLoader.js"></script>
	<script type="module" src="remLoader.js"></script>
	<script type="module" src="calibrationManager.js"></script>
  <link rel="stylesheet" type="text/css" href="../common/playbar.css">

  <!-- Data Labeling Includes -->
  <script type="module" src="../data-labeling/dropdown.js"></script>
  <script type="module" src="../data-labeling/inputform.js"></script>
  <script src="../data-labeling/download.js"></script> <!--Due to package's nature, cannot be module-->
  <link rel="stylesheet" type="text/css" href="../data-labeling/dropdown.css">

</head>

<body>
	<script src="../libs/jquery/jquery-3.1.1.min.js"></script>
	<script src="../libs/spectrum/spectrum.js"></script>
	<script src="../libs/perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
	<script src="../libs/jquery-ui/jquery-ui.min.js"></script>
	<script src="../libs/three.js/build/three.min.js"></script>
	<script src="../libs/other/BinaryHeap.js"></script>
	<script src="../libs/tween/tween.min.js"></script>
	<script src="../libs/d3/d3.js"></script>
	<script src="../libs/proj4/proj4.js"></script>
	<script src="../libs/openlayers3/ol.js"></script>
	<script src="../libs/i18next/i18next.js"></script>
	<script src="../libs/jstree/jstree.js"></script>
	<script src="../build/potree/potree.js"></script>
	<script src="../libs/plasio/js/laslaz.js"></script>
  <script src="../libs/other/OBJLoader.js"></script>
	<script type="module" src="../common/playbar.js"></script>
	<script src="../common/loading-bar.js"></script>
	<script type="module" src="../common/overlay.js"></script>
	<script src="../common/calibration-panels.js"></script>
	<script src="../node_modules/three.meshline/src/THREE.MeshLine.js"></script>
	<script type="module" src="animationEngine.js"></script>
	<script type="module" src="RtkTrajectory.js"></script>
	<script type="module" src="../src/loader/PointAttributes.js"></script>
	<script type='module' src="paramLoader.js"></script>
	<script type='module' src="loaderHelper.js"></script> <!-- Include this to start loading the page -->

	<!-- TODO REMOVE BELOW -->
	<script src="tweenTest.js"></script>



	<!-- <script src="../common/playbar.css"></script> -->


	<!-- INCLUDE ADDITIONAL DEPENDENCIES HERE -->
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.339.0.min.js"></script>

	<!-- INCLUDE SETTINGS HERE -->

    <div class="potree_container" style="position: absolute; width: 100%; height: 100%; left: 0px; top: 0px; ">
        <div id="potree_render_area"></div>
        <div id="potree_sidebar_container"></div>
    </div>


  <script type="x-shader/x-vertex" id="vertexshader">

      attribute float alpha;
      attribute float gpsTime;

      uniform float minGpsTime;
      uniform float maxGpsTime;

	  uniform vec3 offset;

      varying float vAlpha;

      void main() {

        if (minGpsTime <= gpsTime && gpsTime <= maxGpsTime) {
          vAlpha = 1.0;
        } else {
          vAlpha = 0.0;
        }


        // if (gpsTime > 30.0) {
				// 	vAlpha = 0.0;
        // } else {
        //   vAlpha = 1.0;
        // }

					// vec4 offset = vec4( 0.0, 0.0, 0.0, 0.0);
					// vec4 offset = vec4( 300016.625, 4701260, 247.1885223388672, 0.0);

          vec4 mvPosition = modelViewMatrix * vec4( position+offset.xyz, 1.0 );
					gl_Position = projectionMatrix * mvPosition;

          gl_PointSize = 8.0;


      }

  </script>

  <script type="x-shader/x-fragment" id="fragmentshader">

      uniform vec3 color;

      varying float vAlpha;

      void main() {

          gl_FragColor = vec4( color, vAlpha );

      }

  </script>
</html>
